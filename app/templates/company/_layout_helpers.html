{# app/templates/company/_layout_helpers.html #}

{% macro render_page_header(title, subtitle, button_href, button_text) %}
<div class="page-header">
    <div class="header-content">
        <h1 class="content-title">{{ title }}</h1>
        <p class="content-subtitle">{{ subtitle }}</p>
    </div>
    <div class="header-actions">
        <a 
            href="{{ button_href if button_href else '#' }}" 
            class="button-primary"
            {% if not button_href %}aria-disabled="true"{% endif %}
        >
            ï¼‹ {{ button_text }}
        </a>
    </div>
</div>
{% endmacro %}

{% macro render_statement_table(title, data, order=None) %}
<div class="table-responsive">
    <table class="table table-bordered statement-table">
        <thead>
            <tr>
                <th colspan="2">{{ title }}</th>
            </tr>
        </thead>
        <tbody>
            {% set items_to_render = order if order else data.keys() %}
            {% for middle in items_to_render %}
                {% if middle in data and middle != 'total' %}
                    {% set middle_data = data[middle] %}
                    <tr class="middle-header">
                        <td>{{ middle }}</td>
                        <td class="amount">{{ "{:,.0f}".format(middle_data.get('total', 0)) }}</td>
                    </tr>
                    {% for item in middle_data.get('items', []) %}
                    <tr>
                        <td class="account-name indent-1">{{ item.name }}</td>
                        <td class="amount">{{ "{:,.0f}".format(item.amount) }}</td>
                    </tr>
                    {% endfor %}
                {% endif %}
            {% endfor %}
        </tbody>
    </table>
</div>
{% endmacro %}
