{% extends "base.html" %}

{% block title %}
  {% if office %}
    事業所情報の編集
  {% else %}
    事業所の新規登録
  {% endif %}
{% endblock %}

{% block sidebar %}
<a href="{{ url_for('company.show') }}">基本情報</a>
<a href="{{ url_for('company.employees') }}">社員名簿</a>
<a href="{{ url_for('company.declaration') }}">申告情報</a>
<a href="{{ url_for('company.office_list') }}" class="active">事業所一覧</a>
{% endblock %}

{% block content %}
<div class="content-header">
  <h1 class="content-title">
    {% if office %}
      事業所情報の編集
    {% else %}
      事業所の新規登録
    {% endif %}
  </h1>
</div>

<div class="card">
  <form method="post" class="form-grid" novalidate>
    {{ form.hidden_tag() }}

    <div class="form-group">
      {{ form.office_name.label(class="form-label") }}
      {{ form.office_name(class="form-control") }}
      {% if form.office_name.errors %}
        <div class="form-error">{% for error in form.office_name.errors %}<span>{{ error }}</span>{% endfor %}</div>
      {% endif %}
    </div>

    <div class="form-group">
      {{ form.zip_code.label(class="form-label") }}
      {{ form.zip_code(class="form-control") }}
    </div>

    <div class="form-group">
      {{ form.prefecture.label(class="form-label") }}
      {{ form.prefecture(class="form-control") }}
    </div>

    <div class="form-group">
      {{ form.city.label(class="form-label") }}
      {{ form.city(class="form-control") }}
    </div>

    <div class="form-group full-width">
      {{ form.address.label(class="form-label") }}
      {{ form.address(class="form-control") }}
    </div>

    <div class="form-group">
      {{ form.phone_number.label(class="form-label") }}
      {{ form.phone_number(class="form-control") }}
    </div>

    <div class="form-group">
        {{ form.employee_count.label(class="form-label") }}
        {{ form.employee_count(class="form-control") }}
    </div>

    <div class="form-group">
        {{ form.opening_date.label(class="form-label") }}
        {{ form.opening_date(class="form-control", type='date') }}
    </div>
    
    <div class="form-group">
        {{ form.closing_date.label(class="form-label") }}
        {{ form.closing_date(class="form-control", type='date') }}
    </div>

    <div class="form-actions">
      {{ form.submit(class="button-primary") }}
      <a href="{{ url_for('company.office_list') }}" class="button-secondary">キャンセル</a>
    </div>
  </form>
</div>
{% endblock %}