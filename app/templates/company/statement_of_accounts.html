{% extends "base.html" %}

{% block title %}{{ page_title }} - 勘定科目内訳書{% endblock %}

{% block head %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pages/statement_of_accounts.css') }}">
{% endblock %}

{% block sidebar %}
    {% set statement_pages = [
        ('deposits', '預貯金等'),
        ('notes_receivable', '受取手形'),
        ('accounts_receivable', '売掛金（未収入金）'),
        ('temporary_payments', '仮払金（前渡金）'),
        ('loans_receivable', '貸付金・受取利息'),
        ('inventories', '棚卸資産'),
        ('securities', '有価証券'),
        ('fixed_assets', '固定資産（土地等）'),
        ('notes_payable', '支払手形'),
        ('accounts_payable', '買掛金（未払金・未払費用）'),
        ('temporary_receipts', '仮受金（前受金・預り金）'),
        ('borrowings', '借入金及び支払利子'),
        ('executive_compensations', '役員給与等'),
        ('land_rents', '地代家賃等'),
        ('miscellaneous', '雑益・雑損失等')
    ] %}
    <h3 class="sidebar-title">勘定科目内訳書</h3>
    <nav class="local-nav">
        {% for page_id, page_name in statement_pages %}
            <a href="{{ url_for('company.statement_of_accounts', page=page_id) }}" 
               class="{% if page == page_id %}active{% endif %}">
                {{ page_name }}
            </a>
        {% endfor %}
    </nav>
{% endblock %}

{% block content %}
<div class="content-header">
    <div class="header-main">
        <h1 class="content-title">{{ page_title }}の内訳</h1>
        <p class="content-subtitle">登録された{{ page_title }}の情報を確認・編集します。</p>
    </div>
    <div class="header-actions">
        <div class="summary-block">
            <div class="summary-label">合計金額</div>
            <div class="summary-value">{{ "{:,.0f}".format(total) }} 円</div>
        </div>
        <a href="{{ url_for(add_endpoint_name) }}" class="button-primary">＋ 新規登録</a>
    </div>
</div>

<div class="card-grid">
    {% if items %}
        {% include 'company/_cards/' + page + '_card.html' %}
    {% else %}
        <div class="empty-state-card">
            <h2>まだ{{ page_title }}が登録されていません</h2>
            <p>右上の「＋ 新規登録」ボタンから最初の情報を登録してください。</p>
            <a href="{{ url_for(add_endpoint_name) }}" class="button-primary">最初の{{ page_title }}を登録する</a>
        </div>
    {% endif %}
</div>
{% endblock %}