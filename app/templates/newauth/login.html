{% extends 'newauth/_auth_base.html' %}
{% block auth_content %}
  {% import 'company/_form_helpers.html' as FH %}
  <div class="auth-card card">
    <div class="card-body">
      <div class="content-header" style="margin-bottom: 12px;">
        <h1 class="content-title">ログイン</h1>
      </div>
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, msg in messages %}
            <div class="notification is-{{ 'danger' if category == 'danger' else ('success' if category == 'success' else 'info') }}">{{ msg }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}
      <form method="post">
        {{ form.csrf_token }}
        {{ FH.render_field(form.email, placeholder='you@example.com') }}
        {{ FH.render_field(form.password, placeholder='8文字以上') }}
        <div class="form-group-checkbox">
          {{ form.remember(class='form-checkbox') }}
          {{ form.remember.label(class='form-label-checkbox') }}
        </div>
        <div class="form-actions" style="text-align: right;">
          <button type="submit" class="button-primary">{{ form.submit.label.text }}</button>
        </div>
      </form>
      <div class="auth-links" style="margin-top: 12px; text-align: center;">
        <p><a href="{{ url_for('newauth.reset_request') }}">パスワードをお忘れになった場合</a></p>
        <p><a href="{{ url_for('newauth.signup_page') }}">アカウントをお持ちでない方はこちら</a></p>
      </div>
    </div>
  </div>
{% endblock %}
