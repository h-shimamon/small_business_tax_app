{% extends 'newauth/_auth_base.html' %}
{% block auth_content %}
  {% import 'company/_form_helpers.html' as FH %}
  <div class="auth-card card">
    <div class="card-body">
      <div class="content-header" style="margin-bottom: 12px;">
        <h1 class="content-title">アカウント登録</h1>
      </div>
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, msg in messages %}
            <div class="notification is-{{ 'danger' if category == 'danger' else ('success' if category == 'success' else 'info') }}">{{ msg }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}
      <form method="post">
        {{ form.csrf_token }}
        {{ FH.render_field(form.email, placeholder='you@example.com') }}
        {% if form.password is defined %}
          {{ FH.render_field(form.password, placeholder='8文字以上') }}
          {{ FH.render_field(form.password2, placeholder='確認のため再入力') }}
        {% endif %}
        <div class="form-actions" style="text-align: right;">
          <button type="submit" class="button-primary">{{ form.submit.label.text }}</button>
        </div>
      </form>
    </div>
  </div>
{% endblock %}
