{% extends 'base.html' %}
{% block content %}
<section class="section">
  <div class="container" style="max-width: 520px;">
    <h1 class="title is-4">アカウント登録</h1>
    <p class="subtitle is-6">メールアドレスとパスワードを入力してください。</p>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, msg in messages %}
          <div class="notification is-{{ 'danger' if category == 'danger' else ('success' if category == 'success' else 'info') }}">{{ msg }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <div class="box">
      <form method="post" action="">
        {{ form.csrf_token }}
        <div class="field">
          <label class="label">{{ form.email.label }}</label>
          <div class="control">
            {{ form.email(class_='input', placeholder='you@example.com') }}
          </div>
          {% if form.email.errors %}
            <p class="help is-danger">{{ form.email.errors[0] }}</p>
          {% endif %}
        </div>
        <div class="field">
          <label class="label">{{ form.password.label }}</label>
          <div class="control">
            {{ form.password(class_='input', placeholder='8文字以上') }}
          </div>
          {% if form.password.errors %}
            <p class="help is-danger">{{ form.password.errors[0] }}</p>
          {% endif %}
        </div>
        <div class="field">
          <label class="label">{{ form.password2.label }}</label>
          <div class="control">
            {{ form.password2(class_='input', placeholder='確認のため再入力') }}
          </div>
          {% if form.password2.errors %}
            <p class="help is-danger">{{ form.password2.errors[0] }}</p>
          {% endif %}
        </div>
        <div class="field is-grouped is-justify-content-flex-end">
          <div class="control">
            <button type="submit" class="button is-primary">{{ form.submit.label.text }}</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</section>
{% endblock %}
